<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Gravity Golf</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#000;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;color:#fff;touch-action:none;user-select:none}
canvas{display:block;width:100%;height:100%}
#ui-overlay{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}
#ui-overlay>*{pointer-events:auto}
#hud{position:absolute;top:12px;left:12px;right:12px;display:flex;justify-content:space-between;align-items:flex-start;gap:8px;flex-wrap:wrap}
.hud-panel{background:rgba(10,12,28,0.85);border:1px solid rgba(100,140,255,0.25);border-radius:10px;padding:8px 14px;backdrop-filter:blur(8px);font-size:13px;display:flex;align-items:center;gap:8px}
.hud-panel .label{color:rgba(180,200,255,0.7);font-size:11px;text-transform:uppercase;letter-spacing:1px}
.hud-panel .value{color:#e0eaff;font-weight:600;font-size:15px}
.fuel-bar{width:80px;height:6px;background:rgba(255,255,255,0.1);border-radius:3px;overflow:hidden}
.fuel-fill{height:100%;background:linear-gradient(90deg,#ff6b35,#ffbe0b);border-radius:3px;transition:width .2s}
.star{color:#444;font-size:18px;transition:color .3s}.star.earned{color:#ffd700}
#level-title{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:28px;font-weight:700;opacity:0;transition:opacity .5s;text-align:center;text-shadow:0 0 30px rgba(100,140,255,0.5)}
#level-title .sub{font-size:14px;color:rgba(180,200,255,0.7);margin-top:4px;font-weight:400}
.btn{background:rgba(60,80,180,0.4);border:1px solid rgba(100,140,255,0.4);color:#cdd8ff;padding:8px 18px;border-radius:8px;cursor:pointer;font-size:13px;font-family:inherit;transition:all .2s;outline:none}
.btn:hover{background:rgba(80,100,220,0.5);border-color:rgba(130,160,255,0.6);color:#fff}
.btn.primary{background:rgba(80,120,255,0.5);border-color:rgba(120,160,255,0.6);color:#fff}
#menu-screen,#complete-screen,#galaxy-screen{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100;background:rgba(5,8,20,0.95);backdrop-filter:blur(12px);transition:opacity .4s;gap:16px}
#menu-screen h1{font-size:clamp(36px,8vw,64px);background:linear-gradient(135deg,#6b8cff,#a78bfa,#f472b6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:800;letter-spacing:-1px}
#menu-screen .tagline{color:rgba(180,200,255,0.6);font-size:16px;margin-bottom:20px}
.galaxy-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px;max-width:600px;width:90%;padding:12px}
.galaxy-card{background:rgba(20,25,50,0.8);border:1px solid rgba(100,140,255,0.2);border-radius:12px;padding:16px;text-align:center;cursor:pointer;transition:all .25s}
.galaxy-card:hover{border-color:rgba(130,160,255,0.5);transform:translateY(-2px);background:rgba(30,40,80,0.8)}
.galaxy-card.locked{opacity:.4;cursor:default;pointer-events:none}
.galaxy-card h3{font-size:14px;margin-bottom:4px}
.galaxy-card .gstars{color:#ffd700;font-size:12px}
.level-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;max-width:400px;width:90%}
.level-btn{width:100%;aspect-ratio:1;border-radius:10px;background:rgba(20,25,50,0.8);border:1px solid rgba(100,140,255,0.2);color:#cdd8ff;font-size:16px;font-weight:600;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;transition:all .2s;font-family:inherit}
.level-btn:hover{border-color:rgba(130,160,255,0.5);background:rgba(30,40,80,0.8)}
.level-btn.locked{opacity:.3;cursor:default;pointer-events:none}
.level-btn.current{border-color:#6b8cff;box-shadow:0 0 12px rgba(100,140,255,0.3)}
.level-btn .mini-stars{font-size:8px;color:#ffd700}
#complete-screen h2{font-size:32px;margin-bottom:8px}
#complete-screen .big-stars{font-size:42px;color:#ffd700;margin:12px 0}
.time-controls{position:absolute;bottom:16px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
.ctrl-btn{width:40px;height:40px;border-radius:50%;background:rgba(10,12,28,0.85);border:1px solid rgba(100,140,255,0.25);color:#cdd8ff;font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;font-family:inherit}
.ctrl-btn:hover{background:rgba(30,40,80,0.8);border-color:rgba(130,160,255,0.5)}
.ctrl-btn.active{background:rgba(80,120,255,0.4);border-color:#6b8cff}
#editor-panel{position:absolute;top:60px;right:12px;background:rgba(10,12,28,0.92);border:1px solid rgba(100,140,255,0.25);border-radius:10px;padding:12px;display:none;flex-direction:column;gap:8px;min-width:180px;backdrop-filter:blur(8px)}
#editor-panel label{font-size:11px;color:rgba(180,200,255,0.7)}
#editor-panel input,#editor-panel select{background:rgba(20,25,50,0.8);border:1px solid rgba(100,140,255,0.2);color:#fff;padding:4px 8px;border-radius:6px;font-size:12px;font-family:inherit}
.hidden{display:none!important}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeIn .4s ease-out}
</style>
</head>
<body>
<canvas id="game-canvas"></canvas>
<div id="ui-overlay">
  <div id="hud" class="hidden">
    <div class="hud-panel"><span class="label">Level</span><span class="value" id="hud-level">1-1</span></div>
    <div class="hud-panel"><span class="label">Fuel</span><div class="fuel-bar"><div class="fuel-fill" id="fuel-bar" style="width:100%"></div></div></div>
    <div class="hud-panel" id="hud-stars-panel"><span class="star" id="s1">‚òÖ</span><span class="star" id="s2">‚òÖ</span><span class="star" id="s3">‚òÖ</span></div>
    <div class="hud-panel"><span class="label">Crystals</span><span class="value" id="hud-crystals">0/3</span></div>
  </div>
  <div id="level-title"><span id="lt-text"></span><div class="sub" id="lt-sub"></div></div>
  <div class="time-controls hidden" id="time-controls">
    <button class="ctrl-btn" id="btn-slow" title="Slow Motion">‚è™</button>
    <button class="ctrl-btn" id="btn-pause" title="Pause">‚è∏</button>
    <button class="ctrl-btn" id="btn-fast" title="Fast Forward">‚è©</button>
    <button class="ctrl-btn" id="btn-restart" title="Restart">‚Ü∫</button>
  </div>
  <div id="editor-panel">
    <strong style="font-size:13px">Level Editor</strong>
    <label>Tool</label>
    <select id="ed-tool"><option value="planet">Planet</option><option value="goal">Goal</option><option value="crystal">Crystal</option><option value="blackhole">Black Hole</option><option value="wormhole">Wormhole</option><option value="pulsar">Pulsar</option><option value="asteroid">Asteroid Field</option><option value="start">Start Position</option></select>
    <label>Mass</label><input id="ed-mass" type="range" min="50" max="2000" value="400">
    <label>Radius</label><input id="ed-radius" type="range" min="15" max="80" value="30">
    <button class="btn" id="ed-save">Save Level</button>
    <button class="btn" id="ed-load">Load Level</button>
    <button class="btn" id="ed-clear">Clear</button>
    <button class="btn" id="ed-test">Test Play</button>
    <button class="btn" id="ed-exit">Exit Editor</button>
  </div>
</div>
<div id="menu-screen">
  <h1>GRAVITY GOLF</h1>
  <div class="tagline">Master orbital mechanics. Reach the goal. Make beautiful orbits.</div>
  <button class="btn primary" id="btn-play" style="font-size:18px;padding:14px 40px">‚ñ∂ Play</button>
  <button class="btn" id="btn-editor">üõ† Level Editor</button>
  <div style="margin-top:20px;font-size:11px;color:rgba(180,200,255,0.4)">Drag to aim ¬∑ Click to boost ¬∑ Scroll to zoom ¬∑ Hold E for editor</div>
</div>
<div id="galaxy-screen" class="hidden">
  <h2 style="margin-bottom:4px">Select Galaxy</h2>
  <div class="galaxy-grid" id="galaxy-grid"></div>
  <div class="level-grid hidden" id="level-grid"></div>
  <button class="btn" id="btn-back-menu" style="margin-top:12px">‚Üê Back</button>
  <button class="btn hidden" id="btn-back-galaxies">‚Üê Galaxies</button>
</div>
<div id="complete-screen" class="hidden">
  <h2 id="complete-title">Level Complete!</h2>
  <div class="big-stars" id="complete-stars">‚òÖ‚òÖ‚òÖ</div>
  <div id="complete-info" style="color:rgba(180,200,255,0.7);margin-bottom:12px"></div>
  <div style="display:flex;gap:10px">
    <button class="btn" id="btn-retry">‚Ü∫ Retry</button>
    <button class="btn primary" id="btn-next">Next Level ‚Üí</button>
    <button class="btn" id="btn-levels">Levels</button>
  </div>
</div>
<script>
