{
  "console": "atari-2600",
  "name": "Atari 2600 Collection",
  "year": 1977,
  "icon": "üïπÔ∏è",
  "theme": { "bg": "#2a1a08", "accent": "#ff8833", "font": "monospace" },
  "render": { "width": 160, "height": 192, "scanlines": true, "scanlineAlpha": 0.12 },
  "audio": { "type": "square-noise", "channels": 1 },
  "games": [
    {
      "id": "meteor-dodge",
      "name": "Meteor Dodge",
      "icon": "‚òÑÔ∏è",
      "desc": "Rotate, thrust & shoot rocks",
      "code": "if(mode==='init'){G.sx=RW/2;G.sy=RH/2;G.sa=0;G.svx=0;G.svy=0;G.bullets=[];G.rocks=[];G.score=0;G.lives=3;G.dead=0;G.cd=0;G.level=1;for(var i=0;i<4;i++)G.rocks.push({x:Math.random()*RW,y:Math.random()*RH,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,sz:3});}\nif(mode==='update'){if(G.dead>0){G.dead--;if(G.dead===0&&G.lives>0){G.sx=RW/2;G.sy=RH/2;G.svx=0;G.svy=0}return;}G.cd--;if(K('a')||K('ArrowLeft'))G.sa-=.08;if(K('d')||K('ArrowRight'))G.sa+=.08;if(K('w')||K('ArrowUp')){G.svx+=Math.cos(G.sa)*.12;G.svy+=Math.sin(G.sa)*.12}G.svx*=.99;G.svy*=.99;G.sx+=G.svx;G.sy+=G.svy;if(G.sx<0)G.sx=RW;if(G.sx>RW)G.sx=0;if(G.sy<0)G.sy=RH;if(G.sy>RH)G.sy=0;if((K(' ')||K('Enter'))&&G.cd<=0){G.bullets.push({x:G.sx+Math.cos(G.sa)*6,y:G.sy+Math.sin(G.sa)*6,vx:Math.cos(G.sa)*4,vy:Math.sin(G.sa)*4,life:40});G.cd=8;snd.tone(200,.04,.06,'square')}G.bullets=G.bullets.filter(function(b){b.x+=b.vx;b.y+=b.vy;b.life--;if(b.x<0)b.x=RW;if(b.x>RW)b.x=0;if(b.y<0)b.y=RH;if(b.y>RH)b.y=0;return b.life>0});var newRocks=[];G.rocks=G.rocks.filter(function(r){r.x+=r.vx;r.y+=r.vy;if(r.x<0)r.x=RW;if(r.x>RW)r.x=0;if(r.y<0)r.y=RH;if(r.y>RH)r.y=0;var hit=false;G.bullets=G.bullets.filter(function(b){var dx=b.x-r.x,dy=b.y-r.y,d=r.sz*5;if(dx*dx+dy*dy<d*d){hit=true;return false}return true});if(hit){G.score+=r.sz===3?20:r.sz===2?50:100;snd.noise(.08,.1,1500);if(r.sz>1){for(var j=0;j<2;j++)newRocks.push({x:r.x,y:r.y,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,sz:r.sz-1})}return false}return true});G.rocks=G.rocks.concat(newRocks);var sr=4;for(var i=0;i<G.rocks.length;i++){var r=G.rocks[i],dx=G.sx-r.x,dy=G.sy-r.y,d=r.sz*5+sr;if(dx*dx+dy*dy<d*d){G.lives--;G.dead=60;snd.tone(100,.3,.1,'sawtooth');snd.noise(.2,.1,500);break}}if(G.rocks.length===0){G.level++;for(var i=0;i<3+G.level;i++)G.rocks.push({x:Math.random()*RW,y:Math.random()*RH,vx:(Math.random()-.5)*(1+G.level*.2),vy:(Math.random()-.5)*(1+G.level*.2),sz:3});snd.tone(440,.1,.08);snd.tone(660,.1,.08)}}\nif(mode==='draw'){cls('#000');G.rocks.forEach(function(r){var n=r.sz===3?6:r.sz===2?4:3;var rad=r.sz*5;O.strokeStyle=r.sz===3?'#ff8833':r.sz===2?'#ffaa44':'#ffcc66';O.lineWidth=1;O.beginPath();for(var i=0;i<n;i++){var a=i/n*Math.PI*2;O.lineTo(r.x+Math.cos(a)*rad,r.y+Math.sin(a)*rad)}O.closePath();O.stroke()});G.bullets.forEach(function(b){rect(b.x-1,b.y-1,2,2,'#fff')});if(G.dead<=0&&G.lives>0){O.save();O.translate(G.sx,G.sy);O.rotate(G.sa);O.strokeStyle='#0f0';O.lineWidth=1;O.beginPath();O.moveTo(6,0);O.lineTo(-4,-4);O.lineTo(-2,0);O.lineTo(-4,4);O.closePath();O.stroke();if(K('w')||K('ArrowUp')){O.fillStyle='#f80';O.fillRect(-5,-2,3,4)}O.restore()}for(var i=0;i<G.lives;i++){O.strokeStyle='#0f0';O.lineWidth=1;O.beginPath();O.moveTo(8+i*10,12);O.lineTo(4+i*10,8);O.lineTo(4+i*10,16);O.closePath();O.stroke()}txt(String(G.score),RW-8,10,8,'#ff8833','right');hud('<span style=\"color:#ff8833\">SCORE: '+G.score+'</span> ¬∑ LIVES: '+G.lives);controls('A/D or ‚Üê/‚Üí Rotate ¬∑ W or ‚Üë Thrust ¬∑ Space Shoot')}"
    },
    {
      "id": "tank-duel",
      "name": "Tank Duel",
      "icon": "üî´",
      "desc": "2P maze battle ‚Äî bounce bullets",
      "code": "if(mode==='init'){G.walls=[{x:30,y:30,w:4,h:50},{x:60,y:0,w:4,h:60},{x:90,y:50,w:4,h:50},{x:120,y:20,w:4,h:60},{x:0,y:96,w:50,h:4},{x:70,y:80,w:50,h:4},{x:100,y:130,w:60,h:4},{x:30,y:140,w:40,h:4},{x:60,y:160,w:4,h:30}];G.t1={x:20,y:170,a:0,cd:0,b:null};G.t2={x:140,y:20,a:Math.PI,cd:0,b:null};G.s=[0,0];G.msg='';G.mt=0;}\nif(mode==='update'){G.mt--;var spd=1.2,tspd=.06,bspd=2.5;function hitW(x,y,r){for(var i=0;i<G.walls.length;i++){var w=G.walls[i];if(x+r>w.x&&x-r<w.x+w.w&&y+r>w.y&&y-r<w.y+w.h)return w}if(x<r||x>RW-r||y<r||y>RH-r)return{edge:true,x:x<r?0:x>RW-r?RW-4:0,y:y<r?0:y>RH-r?RH-4:0,w:x<r||x>RW-r?4:RW,h:y<r||y>RH-r?4:RH};return null}function moveT(t,fwd,bk,lt,rt,fire){if(lt)t.a-=tspd;if(rt)t.a+=tspd;var dx=0,dy=0;if(fwd){dx=Math.cos(t.a)*spd;dy=Math.sin(t.a)*spd}if(bk){dx=-Math.cos(t.a)*spd*.5;dy=-Math.sin(t.a)*spd*.5}var nx=t.x+dx,ny=t.y+dy;if(!hitW(nx,ny,4)){t.x=nx;t.y=ny}t.cd--;if(fire&&t.cd<=0&&!t.b){t.b={x:t.x+Math.cos(t.a)*6,y:t.y+Math.sin(t.a)*6,vx:Math.cos(t.a)*bspd,vy:Math.sin(t.a)*bspd,bounces:0,life:120};t.cd=20;snd.tone(250,.04,.06,'square')}}moveT(G.t1,K('w'),K('s'),K('a'),K('d'),K(' '));if(!peer.connected){var dx2=G.t1.x-G.t2.x,dy2=G.t1.y-G.t2.y,ta=Math.atan2(dy2,dx2),diff=ta-G.t2.a;while(diff>Math.PI)diff-=Math.PI*2;while(diff<-Math.PI)diff+=Math.PI*2;moveT(G.t2,Math.sqrt(dx2*dx2+dy2*dy2)>30,false,diff<-.1,diff>.1,Math.abs(diff)<.3&&Math.random()<.03)}else{moveT(G.t2,K('ArrowUp'),K('ArrowDown'),K('ArrowLeft'),K('ArrowRight'),K('Enter'))}function updB(b,target,si){if(!b)return null;b.x+=b.vx;b.y+=b.vy;b.life--;var w=hitW(b.x,b.y,2);if(w){b.bounces++;if(b.bounces>1)return null;if(w.w>w.h)b.vy*=-1;else b.vx*=-1;snd.tone(400,.02,.04);b.x+=b.vx;b.y+=b.vy}if(Math.abs(b.x-target.x)<5&&Math.abs(b.y-target.y)<5){G.s[si]++;snd.noise(.15,.12,800);snd.tone(100,.2,.08,'sawtooth');G.msg=(si===0?'P1':'P2')+' SCORES!';G.mt=60;target.x=si===0?140:20;target.y=si===0?20:170;return null}return b.life>0?b:null}G.t1.b=updB(G.t1.b,G.t2,0);G.t2.b=updB(G.t2.b,G.t1,1);if(G.s[0]>=5||G.s[1]>=5){G.msg=(G.s[0]>=5?'P1':'P2')+' WINS!';G.mt=120;snd.win();G.s=[0,0]}if(peer.connected)peer.send({x:G.t1.x,y:G.t1.y,a:G.t1.a})}\nif(mode==='draw'){cls('#000');O.fillStyle='#442200';G.walls.forEach(function(w){O.fillRect(w.x,w.y,w.w,w.h)});O.fillStyle='#553311';G.walls.forEach(function(w){O.fillRect(w.x+1,w.y+1,w.w-2,w.h-2)});function drawT(t,c){O.save();O.translate(t.x,t.y);O.rotate(t.a);O.fillStyle=c;O.fillRect(-4,-3,8,6);O.fillRect(3,-1,5,2);O.restore();if(t.b){O.fillStyle='#fff';O.fillRect(t.b.x-1,t.b.y-1,2,2)}}drawT(G.t1,'#ff4444');drawT(G.t2,'#44aaff');if(G.mt>0)txt(G.msg,RW/2,RH/2,8,'#ffcc00');hud('<span style=\"color:#ff4444\">'+G.s[0]+'</span> ‚Äî <span style=\"color:#44aaff\">'+G.s[1]+'</span> ¬∑ FIRST TO 5');controls('P1: WASD+Space ¬∑ P2: Arrows+Enter')}"
    },
    {
      "id": "canyon-sprint",
      "name": "Canyon Sprint",
      "icon": "‚úàÔ∏è",
      "desc": "Vertical scroller ‚Äî shoot & refuel",
      "code": "if(mode==='init'){G.px=RW/2;G.scroll=0;G.fuel=100;G.score=0;G.dead=false;G.enemies=[];G.bullets=[];G.fuels=[];G.cd=0;G.spd=1;G.walls=[];for(var i=0;i<40;i++){var w=50+Math.sin(i*.3)*20+Math.sin(i*.7)*10;G.walls.push({l:Math.max(0,(RW-w)/2+Math.sin(i*.5)*15),r:Math.min(RW,(RW+w)/2+Math.sin(i*.5)*15)})}}\nif(mode==='update'){if(G.dead)return;G.scroll+=G.spd;G.spd=Math.min(2,1+G.score*.002);G.fuel-=.03+G.spd*.01;if(G.fuel<=0){G.dead=true;snd.tone(80,.4,.1,'sawtooth');return}if(K('a')||K('ArrowLeft'))G.px-=2;if(K('d')||K('ArrowRight'))G.px+=2;G.px=Math.max(8,Math.min(RW-8,G.px));G.cd--;if((K(' ')||K('w')||K('ArrowUp'))&&G.cd<=0){G.bullets.push({x:G.px,y:RH-24,vy:-4});G.cd=6;snd.tone(300,.03,.04,'square')}if(Math.random()<.02+G.spd*.005)G.enemies.push({x:20+Math.random()*(RW-40),y:-8,spd:.5+Math.random()});if(Math.random()<.008)G.fuels.push({x:20+Math.random()*(RW-40),y:-8});var wi=Math.floor(G.scroll/10)%G.walls.length;var wl=G.walls[wi].l,wr=G.walls[wi].r;if(G.px<wl+6||G.px>wr-6){G.dead=true;snd.noise(.2,.12,600);return}G.bullets=G.bullets.filter(function(b){b.y+=b.vy;return b.y>-4});G.enemies=G.enemies.filter(function(e){e.y+=e.spd+G.spd;var hit=false;G.bullets=G.bullets.filter(function(b){if(Math.abs(b.x-e.x)<6&&Math.abs(b.y-e.y)<6){hit=true;return false}return true});if(hit){G.score+=10;snd.noise(.06,.08,2000);return false}if(Math.abs(e.x-G.px)<6&&Math.abs(e.y-(RH-16))<6){G.dead=true;snd.noise(.2,.12,600);return false}return e.y<RH+8});G.fuels=G.fuels.filter(function(f){f.y+=G.spd;if(Math.abs(f.x-G.px)<8&&Math.abs(f.y-(RH-16))<8){G.fuel=Math.min(100,G.fuel+30);snd.tone(880,.06,.06);snd.tone(1100,.06,.06);return false}return f.y<RH+8})}\nif(mode==='draw'){cls('#000');var baseI=Math.floor(G.scroll/10);for(var y=0;y<RH;y+=10){var i=(baseI+Math.floor(y/10))%G.walls.length;var wl=G.walls[i].l,wr=G.walls[i].r;O.fillStyle='#221100';O.fillRect(0,y,wl,10);O.fillRect(wr,y,RW-wr,10);O.fillStyle='#331a00';O.fillRect(wl,y,2,10);O.fillRect(wr-2,y,2,10);if(Math.floor(y/10)%3===0){O.fillStyle='#114';O.fillRect(wl+5,y,1,10);O.fillRect(wr-6,y,1,10)}}G.enemies.forEach(function(e){O.fillStyle='#ff4444';O.fillRect(e.x-4,e.y-3,8,6);O.fillRect(e.x-6,e.y-1,12,2)});G.fuels.forEach(function(f){O.fillStyle='#44ff44';O.fillRect(f.x-3,f.y-3,6,6);txt('F',f.x,f.y,5,'#000')});G.bullets.forEach(function(b){rect(b.x-1,b.y-2,2,4,'#fff')});if(!G.dead){O.fillStyle='#0f0';O.fillRect(G.px-3,RH-20,6,12);O.fillRect(G.px-6,RH-14,12,4);O.fillRect(G.px-1,RH-24,2,4)}rect(4,4,40,6,'#333');rect(4,4,G.fuel*.4,6,G.fuel>25?'#0f0':'#f00');txt(String(G.score),RW-4,8,7,'#ff8833','right');if(G.dead)txt('GAME OVER',RW/2,RH/2,10,'#ff4444');hud('<span style=\"color:#0f0\">FUEL: '+Math.floor(G.fuel)+'%</span> ¬∑ SCORE: '+G.score);controls('A/D or ‚Üê/‚Üí Move ¬∑ W/Space Shoot')}"
    },
    {
      "id": "brick-siege",
      "name": "Brick Siege",
      "icon": "üß±",
      "desc": "Break all bricks with the ball",
      "code": "if(mode==='init'){G.px=RW/2;G.bx=RW/2;G.by=RH-30;G.bvx=1.5;G.bvy=-1.5;G.lives=3;G.score=0;G.bricks=[];G.started=false;var colors=['#ff4444','#ff8833','#ffcc33','#44ff44','#44aaff'];for(var r=0;r<5;r++)for(var c=0;c<8;c++)G.bricks.push({x:c*19+6,y:r*8+20,w:17,h:6,color:colors[r],pts:(5-r)*10});}\nif(mode==='update'){G.px=mx;G.px=Math.max(12,Math.min(RW-12,G.px));if(!G.started){G.bx=G.px;G.by=RH-30;if(click()||K(' ')){G.started=true;G.bvx=(Math.random()-.5)*2;G.bvy=-2;snd.tone(400,.04,.06)}return}G.bx+=G.bvx;G.by+=G.bvy;if(G.bx<3||G.bx>RW-3){G.bvx*=-1;snd.tone(300,.02,.04)}if(G.by<3){G.bvy*=-1;snd.tone(300,.02,.04)}if(G.by>RH-24&&G.by<RH-18&&G.bx>G.px-14&&G.bx<G.px+14){G.bvy=-Math.abs(G.bvy);G.bvx+=(G.bx-G.px)*.1;snd.tone(500,.03,.06)}if(G.by>RH+4){G.lives--;G.started=false;snd.tone(100,.2,.08,'sawtooth');if(G.lives<=0){snd.noise(.3,.12,400)}}var speed=Math.sqrt(G.bvx*G.bvx+G.bvy*G.bvy);if(speed>3){G.bvx*=3/speed;G.bvy*=3/speed}G.bricks=G.bricks.filter(function(br){if(G.bx>br.x&&G.bx<br.x+br.w&&G.by>br.y&&G.by<br.y+br.h){G.bvy*=-1;G.score+=br.pts;snd.tone(600+br.pts*2,.04,.06);return false}return true});if(G.bricks.length===0){snd.win();G.started=false;var colors=['#ff4444','#ff8833','#ffcc33','#44ff44','#44aaff'];for(var r=0;r<5;r++)for(var c=0;c<8;c++)G.bricks.push({x:c*19+6,y:r*8+20,w:17,h:6,color:colors[r],pts:(5-r)*10})}}\nif(mode==='draw'){cls('#000');G.bricks.forEach(function(br){O.fillStyle=br.color;O.fillRect(br.x,br.y,br.w,br.h);O.fillStyle='#00000033';O.fillRect(br.x,br.y+br.h-1,br.w,1)});rect(G.px-12,RH-22,24,4,'#ff8833');rect(G.px-10,RH-21,20,2,'#ffaa55');circ(G.bx,G.by,3,'#fff');for(var i=0;i<G.lives;i++)circ(8+i*8,RH-6,2,'#ff8833');txt(String(G.score),RW-4,RH-6,6,'#ff8833','right');if(G.lives<=0)txt('GAME OVER',RW/2,RH/2,10,'#ff4444');if(!G.started&&G.lives>0)txt('CLICK TO LAUNCH',RW/2,RH/2,6,'#888');hud('SCORE: '+G.score+' ¬∑ LIVES: '+G.lives);controls('Mouse/Touch to move paddle ¬∑ Click to launch')}"
    },
    {
      "id": "vault-raid",
      "name": "Vault Raid",
      "icon": "üèÉ",
      "desc": "Side-scroll ‚Äî jump, swing, collect",
      "code": "if(mode==='init'){G.px=30;G.py=RH-30;G.vy=0;G.ground=true;G.scroll=0;G.score=0;G.dead=false;G.timer=1200;G.obstacles=[];G.treasures=[];G.vines=[];G.onVine=false;G.vineX=0;G.vineAngle=0;for(var i=0;i<30;i++){var x=100+i*60;if(Math.random()<.4)G.obstacles.push({x:x,type:Math.random()<.5?'pit':'log'});if(Math.random()<.3)G.treasures.push({x:x+10,y:RH-40,active:true});if(Math.random()<.2)G.vines.push({x:x+30,topY:RH-80})}}\nif(mode==='update'){if(G.dead)return;G.timer--;if(G.timer<=0){G.dead=true;return}var spd=1.5;if(K('d')||K('ArrowRight'))G.scroll+=spd*1.5;else G.scroll+=spd*.5;if(K('a')||K('ArrowLeft'))G.scroll=Math.max(0,G.scroll-spd);if(G.onVine){G.vineAngle+=.04;G.px=G.vineX+Math.sin(G.vineAngle)*20-G.scroll;G.py=RH-60+Math.cos(G.vineAngle)*10;if(K('w')||K(' ')||K('ArrowUp')){G.onVine=false;G.vy=-4;G.px+=10;snd.tone(400,.05,.06)}return}if((K('w')||K(' ')||K('ArrowUp'))&&G.ground){G.vy=-4.5;G.ground=false;snd.tone(500,.04,.04);snd.tone(700,.03,.04)}G.vy+=.2;G.py+=G.vy;var floorY=RH-20;var worldX=G.px+G.scroll;G.obstacles.forEach(function(o){if(Math.abs(worldX-o.x)<20){if(o.type==='pit')floorY=RH+50}});if(G.py>=floorY){G.py=floorY;G.vy=0;G.ground=true;if(floorY>RH){G.dead=true;snd.tone(80,.3,.1,'sawtooth');snd.noise(.2,.1,500)}}G.obstacles.forEach(function(o){if(o.type==='log'&&Math.abs(worldX-o.x)<8&&G.py>RH-30&&G.ground){G.dead=true;snd.tone(80,.3,.1,'sawtooth')}});G.treasures.forEach(function(t){if(t.active&&Math.abs(worldX-t.x)<10&&Math.abs(G.py-t.y)<12){t.active=false;G.score+=100;snd.tone(880,.05,.08);snd.tone(1100,.05,.08)}});G.vines.forEach(function(v){if(!G.onVine&&Math.abs(worldX-v.x)<10&&G.py<v.topY+15&&G.py>v.topY-15&&(K('w')||K('ArrowUp'))){G.onVine=true;G.vineX=v.x;G.vineAngle=0;snd.tone(300,.04,.04)}})}\nif(mode==='draw'){cls('#000');rect(0,RH-16,RW,16,'#221100');rect(0,RH-18,RW,2,'#442200');for(var x=-G.scroll%20-20;x<RW+20;x+=20){rect(x,RH-16,8,2,'#331800')}G.obstacles.forEach(function(o){var sx=o.x-G.scroll;if(sx<-20||sx>RW+20)return;if(o.type==='pit'){O.fillStyle='#000';O.fillRect(sx-15,RH-18,30,18);O.fillStyle='#110800';O.fillRect(sx-15,RH-16,2,16);O.fillRect(sx+13,RH-16,2,16)}else{O.fillStyle='#663300';O.fillRect(sx-6,RH-26,12,8);O.fillStyle='#884400';O.fillRect(sx-5,RH-25,10,6)}});G.treasures.forEach(function(t){if(!t.active)return;var sx=t.x-G.scroll;if(sx<-10||sx>RW+10)return;O.fillStyle='#ffcc00';O.fillRect(sx-3,t.y-2,6,4);O.fillStyle='#ffee66';O.fillRect(sx-2,t.y-1,4,2)});G.vines.forEach(function(v){var sx=v.x-G.scroll;if(sx<-10||sx>RW+10)return;O.strokeStyle='#0a0';O.lineWidth=1;O.beginPath();O.moveTo(sx,0);O.lineTo(sx,v.topY);O.stroke()});if(!G.dead){O.fillStyle='#ff8833';O.fillRect(G.px-3,G.py-10,6,10);O.fillStyle='#ffaa55';O.fillRect(G.px-2,G.py-12,4,4);O.fillStyle='#884400';O.fillRect(G.px-4,G.py-2,8,2)}var secs=Math.ceil(G.timer/60);txt('$'+G.score,8,8,7,'#ffcc00','left');txt(secs+'s',RW-4,8,7,'#888','right');if(G.dead)txt('GAME OVER',RW/2,RH/2,10,'#ff4444');hud('SCORE: $'+G.score+' ¬∑ TIME: '+secs+'s');controls('A/D or ‚Üê/‚Üí Speed ¬∑ W/Space/‚Üë Jump ¬∑ ‚Üë near vine to grab')}"
    }
  ]
}
