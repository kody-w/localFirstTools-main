<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schrödinger's Todo List</title>
    <meta name="description" content="A quantum productivity app where tasks exist in superposition until observed">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 100%);
            min-height: 100vh;
            font-family: 'Courier New', monospace;
            color: #a0a0ff;
            padding: 40px;
        }
        h1 { text-align: center; font-size: 28px; margin-bottom: 10px; color: #c0c0ff; }
        .subtitle { text-align: center; font-size: 12px; opacity: 0.6; margin-bottom: 40px; }
        #add-task { max-width: 600px; margin: 0 auto 30px; display: flex; gap: 10px; }
        #task-input {
            flex: 1; padding: 15px; background: rgba(100,100,200,0.1);
            border: 1px solid rgba(150,150,255,0.3); border-radius: 10px;
            color: #c0c0ff; font-family: inherit; font-size: 16px;
        }
        #add-btn {
            padding: 15px 30px; background: rgba(100,100,200,0.3);
            border: 1px solid rgba(150,150,255,0.3); border-radius: 10px;
            color: #c0c0ff; cursor: pointer;
        }
        #task-list { max-width: 600px; margin: 0 auto; }
        .task {
            background: rgba(50,50,100,0.2); border: 1px solid rgba(150,150,255,0.2);
            border-radius: 15px; padding: 20px; margin-bottom: 15px;
        }
        .task.superposition { animation: shimmer 2s infinite; }
        @keyframes shimmer { 0%,100% { opacity: 0.8; } 50% { opacity: 1; } }
        .task.done { background: rgba(50,150,100,0.2); border-color: rgba(100,255,150,0.3); }
        .task.not-done { background: rgba(150,50,50,0.2); border-color: rgba(255,100,100,0.3); }
        .task-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .task-title { font-size: 18px; color: #d0d0ff; }
        .task.done .task-title { text-decoration: line-through; color: rgba(100,255,150,0.7); }
        .prob-bar { height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; margin: 10px 0; }
        .prob-fill { height: 100%; background: linear-gradient(90deg, #ff6666, #66ff66); border-radius: 3px; }
        .task-actions { display: flex; gap: 10px; margin-top: 15px; }
        .task-btn {
            padding: 8px 16px; background: rgba(100,100,200,0.2);
            border: 1px solid rgba(150,150,255,0.2); border-radius: 20px;
            color: #a0a0ff; cursor: pointer; font-size: 12px;
        }
        #stats {
            max-width: 600px; margin: 40px auto; padding: 20px;
            background: rgba(50,50,100,0.2); border-radius: 15px;
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; text-align: center;
        }
        .stat-value { font-size: 32px; color: #c0c0ff; }
        .stat-label { font-size: 11px; opacity: 0.6; }
        #controls { position: fixed; bottom: 20px; right: 20px; display: flex; gap: 10px; }
        .ctrl-btn {
            padding: 10px 20px; background: rgba(50,50,100,0.5);
            border: 1px solid rgba(150,150,255,0.2); border-radius: 20px;
            color: #a0a0ff; cursor: pointer; font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>Schrödinger's Todo List</h1>
    <p class="subtitle">Tasks exist in superposition until observed</p>
    <div id="add-task">
        <input type="text" id="task-input" placeholder="Add quantum task...">
        <button id="add-btn">Superpose</button>
    </div>
    <div id="task-list"></div>
    <div id="stats">
        <div><div class="stat-value" id="s-super">0</div><div class="stat-label">Superposed</div></div>
        <div><div class="stat-value" id="s-done">0</div><div class="stat-label">Done</div></div>
        <div><div class="stat-value" id="s-not">0</div><div class="stat-label">Not Done</div></div>
    </div>
    <div id="controls">
        <button class="ctrl-btn" id="export-btn">Export</button>
        <button class="ctrl-btn" id="import-btn">Import</button>
    </div>
    <input type="file" id="import-file" accept=".json" style="display:none">
    <script>
        let tasks = [], idCounter = 0;
        class QTask {
            constructor(title) {
                this.id = idCounter++;
                this.title = title;
                this.state = 'superposition';
                this.prob = 0.5;
                this.created = Date.now();
            }
            updateProb() {
                if (this.state !== 'superposition') return;
                const age = (Date.now() - this.created) / 60000;
                this.prob += (Math.random() - 0.5) * 0.02;
                this.prob = Math.max(0.1, Math.min(0.9, this.prob));
            }
            observe() {
                if (this.state !== 'superposition') return;
                this.state = Math.random() < this.prob ? 'done' : 'not-done';
                render(); updateStats(); save();
            }
            boost() {
                if (this.state === 'superposition') {
                    this.prob = Math.min(0.95, this.prob + 0.15);
                    render(); save();
                }
            }
        }
        function render() {
            const list = document.getElementById('task-list');
            list.innerHTML = '';
            tasks.forEach(t => {
                t.updateProb();
                const pct = Math.round(t.prob * 100);
                const stateClass = t.state === 'superposition' ? 'superposition' : t.state;
                const html = '<div class="task ' + stateClass + '">' +
                    '<div class="task-header"><span class="task-title">' + t.title + '</span>' +
                    '<span>' + (t.state === 'superposition' ? pct + '% done' : t.state) + '</span></div>' +
                    (t.state === 'superposition' ? 
                        '<div class="prob-bar"><div class="prob-fill" style="width:' + pct + '%"></div></div>' +
                        '<div class="task-actions">' +
                        '<button class="task-btn" onclick="tasks.find(x=>x.id===' + t.id + ').observe()">Observe</button>' +
                        '<button class="task-btn" onclick="tasks.find(x=>x.id===' + t.id + ').boost()">Boost</button>' +
                        '</div>' : '') + '</div>';
                list.innerHTML += html;
            });
        }
        function updateStats() {
            document.getElementById('s-super').textContent = tasks.filter(t => t.state === 'superposition').length;
            document.getElementById('s-done').textContent = tasks.filter(t => t.state === 'done').length;
            document.getElementById('s-not').textContent = tasks.filter(t => t.state === 'not-done').length;
        }
        function save() { localStorage.setItem('qtodo', JSON.stringify(tasks)); }
        function load() {
            const s = localStorage.getItem('qtodo');
            if (s) {
                const d = JSON.parse(s);
                tasks = d.map(x => { const t = new QTask(x.title); Object.assign(t, x); return t; });
                idCounter = Math.max(0, ...tasks.map(t => t.id)) + 1;
            }
        }
        document.getElementById('add-btn').onclick = () => {
            const inp = document.getElementById('task-input');
            if (inp.value.trim()) {
                tasks.push(new QTask(inp.value.trim()));
                inp.value = '';
                render(); updateStats(); save();
            }
        };
        document.getElementById('task-input').onkeypress = e => { if (e.key === 'Enter') document.getElementById('add-btn').click(); };
        document.getElementById('export-btn').onclick = () => {
            const blob = new Blob([JSON.stringify(tasks, null, 2)], {type: 'application/json'});
            const a = document.createElement('a'); a.href = URL.createObjectURL(blob);
            a.download = 'quantum-todos.json'; a.click();
        };
        document.getElementById('import-btn').onclick = () => document.getElementById('import-file').click();
        document.getElementById('import-file').onchange = e => {
            const f = e.target.files[0];
            if (f) {
                const r = new FileReader();
                r.onload = ev => {
                    tasks = JSON.parse(ev.target.result).map(x => { const t = new QTask(x.title); Object.assign(t, x); return t; });
                    render(); updateStats(); save();
                };
                r.readAsText(f);
            }
        };
        load(); render(); updateStats();
        setInterval(() => { render(); }, 5000);
    </script>
</body>
</html>