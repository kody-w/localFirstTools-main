<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursor Tarot System - Standalone Demo</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0f;
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .demo-container {
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            background: linear-gradient(90deg, #b19cd9, #9370db);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 30px;
            font-style: italic;
        }

        .instructions {
            background: rgba(177, 156, 217, 0.1);
            border: 1px solid rgba(177, 156, 217, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .instructions h3 {
            color: #b19cd9;
            margin-bottom: 10px;
        }

        .instructions ul {
            margin-left: 20px;
            line-height: 1.8;
        }

        .demo-panel {
            background: rgba(30, 30, 50, 0.5);
            border-radius: 8px;
            padding: 20px;
        }

        .mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .mode-btn {
            flex: 1;
            padding: 12px;
            background: rgba(177, 156, 217, 0.1);
            border: 1px solid rgba(177, 156, 217, 0.3);
            border-radius: 6px;
            color: #b19cd9;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9em;
            transition: all 0.2s;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #b19cd9, #9370db);
            color: #0a0a0f;
            font-weight: bold;
        }

        .mode-btn:hover {
            transform: translateY(-2px);
        }

        .draw-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #b19cd9, #9370db);
            border: none;
            color: #0a0a0f;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 20px;
            transition: all 0.2s;
        }

        .draw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(177, 156, 217, 0.4);
        }

        .reading-display {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(177, 156, 217, 0.3);
            border-radius: 8px;
            padding: 20px;
            min-height: 200px;
        }

        .reading-title {
            color: #b19cd9;
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .cards-container {
            display: flex;
            justify-content: space-around;
            gap: 15px;
            margin-bottom: 20px;
        }

        .card {
            background: linear-gradient(135deg, #1a1a2e, #2a2a3e);
            border: 2px solid rgba(177, 156, 217, 0.4);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .card-symbol {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .card-name {
            color: #b19cd9;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .card-position {
            color: #888;
            font-size: 0.85em;
            font-style: italic;
            margin-bottom: 10px;
        }

        .card-meaning {
            color: #ccc;
            font-size: 0.8em;
            line-height: 1.4;
        }

        .prophecy {
            background: rgba(177, 156, 217, 0.1);
            border-left: 3px solid #b19cd9;
            padding: 15px;
            border-radius: 4px;
            font-style: italic;
            color: #d4af37;
            line-height: 1.6;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(177, 156, 217, 0.2);
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            color: #888;
            font-size: 0.8em;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #b19cd9;
            font-size: 1.2em;
            font-weight: bold;
        }

        .hexagram-display {
            display: flex;
            gap: 20px;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        .hexagram-symbol {
            font-size: 3em;
            color: #b19cd9;
        }

        .hexagram-info {
            text-align: left;
        }

        .rune-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .rune {
            background: linear-gradient(135deg, #4a4a5a, #2a2a3a);
            border: 2px solid rgba(177, 156, 217, 0.4);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .rune-symbol {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .rune-name {
            font-size: 0.7em;
            color: #b19cd9;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>üîÆ Cursor Tarot System Demo</h1>
        <p class="subtitle">Movement-based divination for Recursive Self-Portrait</p>

        <div class="instructions">
            <h3>How it works:</h3>
            <ul>
                <li>Move your mouse around this page to generate "behavioral patterns"</li>
                <li>Select a divination mode: Tarot, I-Ching, or Runes</li>
                <li>Click "Draw Reading" to receive your oracle</li>
                <li>Readings are based on your actual movement patterns!</li>
            </ul>
        </div>

        <div class="demo-panel">
            <div class="mode-selector">
                <button class="mode-btn active" onclick="setMode('tarot')">üé¥ Tarot</button>
                <button class="mode-btn" onclick="setMode('iching')">‚òØÔ∏è I-Ching</button>
                <button class="mode-btn" onclick="setMode('runes')">·ö† Runes</button>
            </div>

            <button class="draw-btn" onclick="drawReading()">‚ú® Draw Reading</button>

            <div class="reading-display" id="readingDisplay">
                <div class="reading-title">Move your cursor to begin...</div>
                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">Movement Speed</div>
                        <div class="stat-value" id="speedStat">0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Chaos Level</div>
                        <div class="stat-value" id="chaosStat">0%</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Pattern Type</div>
                        <div class="stat-value" id="patternStat">‚Äî</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const MAJOR_ARCANA = [
            { name: 'The Fool', symbol: 'üÉè', meaning: 'New beginnings, spontaneity' },
            { name: 'The Magician', symbol: 'üé©', meaning: 'Manifestation, power' },
            { name: 'The High Priestess', symbol: 'üåô', meaning: 'Intuition, mystery' },
            { name: 'The Empress', symbol: 'üëë', meaning: 'Abundance, nurturing' },
            { name: 'The Emperor', symbol: '‚öîÔ∏è', meaning: 'Authority, structure' },
            { name: 'The Hierophant', symbol: 'üìø', meaning: 'Tradition, wisdom' },
            { name: 'The Lovers', symbol: 'üíï', meaning: 'Love, harmony, choice' },
            { name: 'The Chariot', symbol: 'üèá', meaning: 'Victory, determination' },
            { name: 'Strength', symbol: 'ü¶Å', meaning: 'Courage, compassion' },
            { name: 'The Hermit', symbol: 'üïØÔ∏è', meaning: 'Introspection, guidance' },
            { name: 'Wheel of Fortune', symbol: '‚ò∏Ô∏è', meaning: 'Cycles, destiny' },
            { name: 'Justice', symbol: '‚öñÔ∏è', meaning: 'Fairness, truth' },
            { name: 'The Hanged Man', symbol: 'üôÉ', meaning: 'Surrender, pause' },
            { name: 'Death', symbol: 'üíÄ', meaning: 'Transformation, endings' },
            { name: 'Temperance', symbol: 'üçµ', meaning: 'Balance, moderation' },
            { name: 'The Devil', symbol: 'üòà', meaning: 'Shadow self, attachment' },
            { name: 'The Tower', symbol: 'üóº', meaning: 'Upheaval, revelation' },
            { name: 'The Star', symbol: '‚≠ê', meaning: 'Hope, renewal' },
            { name: 'The Moon', symbol: 'üåï', meaning: 'Illusion, subconscious' },
            { name: 'The Sun', symbol: '‚òÄÔ∏è', meaning: 'Joy, success' },
            { name: 'Judgement', symbol: 'üìØ', meaning: 'Awakening, calling' },
            { name: 'The World', symbol: 'üåç', meaning: 'Completion, achievement' }
        ];

        const HEXAGRAMS = [
            { number: 1, name: 'The Creative', symbol: '‚ò∞', meaning: 'Creative power and initiative' },
            { number: 2, name: 'The Receptive', symbol: '‚ò∑', meaning: 'Receptivity and devotion' },
            { number: 11, name: 'Peace', symbol: '‚ò∑‚ò∞', meaning: 'Harmony and balance' },
            { number: 29, name: 'The Abysmal', symbol: '‚òµ‚òµ', meaning: 'Danger and courage' },
            { number: 63, name: 'After Completion', symbol: '‚òµ‚ò≤', meaning: 'Careful in success' }
        ];

        const RUNES = [
            { name: 'Fehu', symbol: '·ö†', meaning: 'Wealth' },
            { name: 'Uruz', symbol: '·ö¢', meaning: 'Strength' },
            { name: 'Ansuz', symbol: '·ö®', meaning: 'Wisdom' },
            { name: 'Raidho', symbol: '·ö±', meaning: 'Journey' },
            { name: 'Kenaz', symbol: '·ö≤', meaning: 'Vision' },
            { name: 'Wunjo', symbol: '·öπ', meaning: 'Joy' },
            { name: 'Hagalaz', symbol: '·ö∫', meaning: 'Disruption' },
            { name: 'Isa', symbol: '·õÅ', meaning: 'Stillness' },
            { name: 'Sowilo', symbol: '·õä', meaning: 'Success' },
            { name: 'Tiwaz', symbol: '·õè', meaning: 'Victory' }
        ];

        let mode = 'tarot';
        let movements = [];
        let lastPos = { x: 0, y: 0 };

        // Track mouse movement
        document.addEventListener('mousemove', (e) => {
            movements.push({ x: e.clientX, y: e.clientY, time: Date.now() });
            if (movements.length > 100) movements.shift();

            updateStats();
        });

        function setMode(newMode) {
            mode = newMode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function updateStats() {
            if (movements.length < 2) return;

            // Calculate speed
            const recent = movements.slice(-10);
            let totalDist = 0;
            for (let i = 1; i < recent.length; i++) {
                const dx = recent[i].x - recent[i-1].x;
                const dy = recent[i].y - recent[i-1].y;
                totalDist += Math.sqrt(dx*dx + dy*dy);
            }
            const avgSpeed = Math.round(totalDist / recent.length);

            // Calculate chaos
            const directions = [];
            for (let i = 1; i < recent.length; i++) {
                const dx = recent[i].x - recent[i-1].x;
                const dy = recent[i].y - recent[i-1].y;
                directions.push(Math.atan2(dy, dx));
            }
            const variance = directions.reduce((sum, d, i) => {
                const mean = directions.reduce((a,b) => a+b, 0) / directions.length;
                return sum + Math.pow(d - mean, 2);
            }, 0) / directions.length;
            const chaos = Math.min(Math.round((variance / Math.PI) * 100), 100);

            // Detect pattern
            let pattern = 'Erratic';
            if (variance < 0.5) pattern = 'Linear';
            else if (variance > 1.5 && variance < 2.5) pattern = 'Circular';

            document.getElementById('speedStat').textContent = avgSpeed;
            document.getElementById('chaosStat').textContent = chaos + '%';
            document.getElementById('patternStat').textContent = pattern;
        }

        function drawReading() {
            if (movements.length < 10) {
                alert('Move your cursor more to build up energy for the reading!');
                return;
            }

            const display = document.getElementById('readingDisplay');

            if (mode === 'tarot') {
                drawTarotReading(display);
            } else if (mode === 'iching') {
                drawIChingReading(display);
            } else if (mode === 'runes') {
                drawRuneReading(display);
            }
        }

        function drawTarotReading(display) {
            const speed = parseInt(document.getElementById('speedStat').textContent);
            const chaos = parseInt(document.getElementById('chaosStat').textContent);

            const pastCard = MAJOR_ARCANA[Math.floor(movements.length / 5) % MAJOR_ARCANA.length];
            const presentCard = MAJOR_ARCANA[Math.floor((speed + chaos) / 10) % MAJOR_ARCANA.length];
            const futureCard = MAJOR_ARCANA[Math.floor(chaos / 5) % MAJOR_ARCANA.length];

            const prophecy = `${pastCard.name} reveals your past patterns. ${presentCard.name} shows your current state of ${presentCard.meaning}. ${futureCard.name} foretells ${futureCard.meaning} in your future.`;

            display.innerHTML = `
                <div class="reading-title">Three Card Spread</div>
                <div class="cards-container">
                    <div class="card">
                        <div class="card-symbol">${pastCard.symbol}</div>
                        <div class="card-name">${pastCard.name}</div>
                        <div class="card-position">Past</div>
                        <div class="card-meaning">${pastCard.meaning}</div>
                    </div>
                    <div class="card">
                        <div class="card-symbol">${presentCard.symbol}</div>
                        <div class="card-name">${presentCard.name}</div>
                        <div class="card-position">Present</div>
                        <div class="card-meaning">${presentCard.meaning}</div>
                    </div>
                    <div class="card">
                        <div class="card-symbol">${futureCard.symbol}</div>
                        <div class="card-name">${futureCard.name}</div>
                        <div class="card-position">Future</div>
                        <div class="card-meaning">${futureCard.meaning}</div>
                    </div>
                </div>
                <div class="prophecy">${prophecy}</div>
            `;
        }

        function drawIChingReading(display) {
            const hexagram = HEXAGRAMS[Math.floor(Math.random() * HEXAGRAMS.length)];
            const chaos = parseInt(document.getElementById('chaosStat').textContent);

            const prophecy = `Hexagram ${hexagram.number}: "${hexagram.name}". ${hexagram.meaning}. ${chaos > 60 ? 'Tumultuous change ahead.' : 'Steady progress awaits.'}`;

            display.innerHTML = `
                <div class="reading-title">I-Ching Oracle</div>
                <div class="hexagram-display">
                    <div class="hexagram-symbol">${hexagram.symbol}</div>
                    <div class="hexagram-info">
                        <div class="card-name">${hexagram.name}</div>
                        <div class="card-position">Hexagram ${hexagram.number}</div>
                        <div class="card-meaning">${hexagram.meaning}</div>
                    </div>
                </div>
                <div class="prophecy">${prophecy}</div>
            `;
        }

        function drawRuneReading(display) {
            const castRunes = [];
            for (let i = 0; i < 5; i++) {
                castRunes.push(RUNES[Math.floor(Math.random() * RUNES.length)]);
            }

            const prophecy = `The runes speak: ${castRunes[0].name} dominates - ${castRunes[0].meaning} guides your path. ${castRunes.map(r => r.name).join(', ')} have been cast.`;

            display.innerHTML = `
                <div class="reading-title">Elder Futhark Casting</div>
                <div class="rune-grid">
                    ${castRunes.map(r => `
                        <div class="rune">
                            <div class="rune-symbol">${r.symbol}</div>
                            <div class="rune-name">${r.name}</div>
                        </div>
                    `).join('')}
                </div>
                <div class="prophecy">${prophecy}</div>
            `;
        }
    </script>
</body>
</html>
