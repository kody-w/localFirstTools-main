<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RappterZoo ‚Äî 621 Local-First Apps in Single HTML Files</title>
<meta name="description" content="An open-source platform of 621+ self-contained HTML apps ‚Äî wikis, dashboards, file managers, games, synths, and more. Zero dependencies. Works offline. Every app is one file.">
<meta property="og:title" content="RappterZoo ‚Äî Local-First Everything, Zero Dependencies">
<meta property="og:description" content="Wikis, dashboards, file managers, API tools, games, synths ‚Äî each one a single HTML file. No build. No CDN. No framework.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://kody-w.github.io/localFirstTools-main/show-hn.html">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0a0a0f;--surface:#12121a;--border:#1e1e2e;
  --text:#e0e0e0;--muted:#888;--accent:#ff6b35;
  --green:#4ade80;--blue:#60a5fa;--purple:#c084fc;
  --yellow:#fbbf24;--pink:#f472b6;
}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--bg);color:var(--text);line-height:1.6;overflow-x:hidden}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
code{background:rgba(255,107,53,0.1);padding:.15rem .4rem;border-radius:4px;font-size:.9em;color:var(--accent)}

.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem;position:relative;overflow:hidden}
.hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 50% 30%,rgba(255,107,53,0.08) 0%,transparent 70%);pointer-events:none}
.hero-badge{display:inline-flex;align-items:center;gap:.5rem;background:rgba(255,107,53,0.1);border:1px solid rgba(255,107,53,0.3);border-radius:999px;padding:.4rem 1rem;font-size:.85rem;color:var(--accent);margin-bottom:1.5rem}
.hero h1{font-size:clamp(2.5rem,6vw,4.5rem);font-weight:800;letter-spacing:-0.03em;line-height:1.1;margin-bottom:1rem}
.hero h1 span{background:linear-gradient(135deg,var(--accent),var(--yellow));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero .subtitle{font-size:clamp(1.1rem,2.5vw,1.4rem);color:var(--muted);max-width:720px;margin:0 auto 2rem}
.hero-stats{display:flex;gap:2rem;flex-wrap:wrap;justify-content:center;margin-bottom:2.5rem}
.stat{text-align:center}
.stat-num{font-size:2rem;font-weight:800;color:var(--accent)}
.stat-label{font-size:.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
.cta-row{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center}
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.8rem 1.8rem;border-radius:8px;font-size:1rem;font-weight:600;transition:all .2s;cursor:pointer;border:none}
.btn-primary{background:var(--accent);color:#fff}
.btn-primary:hover{background:#e55a2b;text-decoration:none;transform:translateY(-1px);box-shadow:0 4px 20px rgba(255,107,53,0.3)}
.btn-secondary{background:transparent;color:var(--text);border:1px solid var(--border)}
.btn-secondary:hover{border-color:var(--accent);color:var(--accent);text-decoration:none}

section{padding:5rem 1.5rem;max-width:1100px;margin:0 auto}
.section-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.15em;color:var(--accent);margin-bottom:.5rem}
.section-title{font-size:clamp(1.8rem,4vw,2.5rem);font-weight:700;margin-bottom:1rem}
.section-desc{color:var(--muted);max-width:650px;margin-bottom:3rem;font-size:1.05rem}

.principles{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}
.principle{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1.5rem;transition:border-color .2s}
.principle:hover{border-color:rgba(255,107,53,0.4)}
.principle-icon{font-size:1.8rem;margin-bottom:.8rem}
.principle h3{font-size:1.15rem;margin-bottom:.5rem}
.principle p{color:var(--muted);font-size:.95rem}

/* Use-case tracks */
.tracks{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;margin-bottom:3rem}
.track{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:2rem;position:relative;overflow:hidden}
.track::before{content:'';position:absolute;top:0;left:0;right:0;height:3px}
.track-data::before{background:linear-gradient(90deg,var(--blue),var(--purple))}
.track-productivity::before{background:linear-gradient(90deg,var(--green),#34d399)}
.track-creative::before{background:linear-gradient(90deg,var(--accent),var(--yellow))}
.track:hover{border-color:rgba(255,107,53,0.3)}
.track-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.15em;margin-bottom:.5rem;font-weight:600}
.track-data .track-label{color:var(--blue)}
.track-productivity .track-label{color:var(--green)}
.track-creative .track-label{color:var(--accent)}
.track h3{font-size:1.2rem;margin-bottom:.5rem}
.track p{color:var(--muted);font-size:.9rem;margin-bottom:1rem}
.track-apps{display:flex;flex-wrap:wrap;gap:.4rem}
.track-app{font-size:.8rem;padding:.2rem .6rem;border-radius:4px;background:rgba(255,255,255,0.05);color:var(--text);border:1px solid var(--border);transition:all .15s}
.track-app:hover{border-color:var(--accent);text-decoration:none;color:var(--accent)}

.categories{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:1rem}
.cat-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1.2rem;display:flex;align-items:center;gap:1rem;transition:all .2s;cursor:pointer}
.cat-card:hover{border-color:var(--accent);transform:translateY(-2px);text-decoration:none}
.cat-icon{font-size:1.6rem;width:44px;height:44px;display:flex;align-items:center;justify-content:center;background:rgba(255,107,53,0.08);border-radius:10px;flex-shrink:0}
.cat-name{font-weight:600;font-size:.95rem}
.cat-count{color:var(--muted);font-size:.85rem}
.cat-new{font-size:.65rem;background:var(--green);color:#000;padding:.1rem .4rem;border-radius:3px;font-weight:700;margin-left:.4rem}

.showcase-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.2rem}
.showcase-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1.2rem;transition:all .2s}
.showcase-card:hover{border-color:var(--accent);transform:translateY(-2px);text-decoration:none}
.showcase-title{font-weight:600;margin-bottom:.3rem}
.showcase-desc{color:var(--muted);font-size:.9rem;margin-bottom:.6rem}
.showcase-meta{display:flex;gap:.8rem;font-size:.8rem;color:var(--muted)}
.tag{background:rgba(255,107,53,0.1);color:var(--accent);padding:.15rem .5rem;border-radius:4px;font-size:.75rem}
.tag-blue{background:rgba(96,165,250,0.1);color:var(--blue)}
.tag-green{background:rgba(74,222,128,0.1);color:var(--green)}

.code-block{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1.5rem;overflow-x:auto;font-family:'SF Mono',Consolas,monospace;font-size:.9rem;line-height:1.8;color:var(--muted);margin:2rem 0}
.code-block .comment{color:#555}
.code-block .highlight{color:var(--accent)}
.code-block .string{color:var(--green)}
.code-block .keyword{color:var(--purple)}

.autonomy-flow{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem;margin:2rem 0}
.flow-step{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:1rem;text-align:center;font-size:.85rem;position:relative}
.flow-step::after{content:'‚Üí';position:absolute;right:-14px;top:50%;transform:translateY(-50%);color:var(--accent);font-weight:700}
.flow-step:last-child::after{display:none}
.flow-label{font-weight:600;display:block;margin-bottom:.2rem;color:var(--accent)}

.final-cta{text-align:center;padding:5rem 1.5rem;background:linear-gradient(180deg,transparent,rgba(255,107,53,0.03))}
.final-cta h2{font-size:clamp(2rem,4vw,3rem);font-weight:800;margin-bottom:1rem}
.final-cta p{color:var(--muted);max-width:500px;margin:0 auto 2rem;font-size:1.1rem}
footer{text-align:center;padding:2rem;color:var(--muted);font-size:.85rem;border-top:1px solid var(--border)}

@media(max-width:640px){
  .hero-stats{gap:1.2rem}
  .stat-num{font-size:1.5rem}
  .autonomy-flow{grid-template-columns:1fr 1fr}
  .flow-step::after{display:none}
  section{padding:3rem 1rem}
}
.reveal{opacity:0;transform:translateY(20px);transition:all .6s ease}
.reveal.visible{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<!-- Hero -->
<div class="hero">
  <div class="hero-badge">ü¶ñ Open Source &middot; Local First &middot; Zero Dependencies</div>
  <h1>Your data. Your tools.<br><span>One HTML file each.</span></h1>
  <p class="subtitle">Wikis, dashboards, file managers, API tools, games, synths, physics sims ‚Äî 621 self-contained apps that work offline, store data locally, and never phone home. No build process. No frameworks. No npm install.</p>
  <div class="hero-stats">
    <div class="stat"><div class="stat-num">621</div><div class="stat-label">Apps</div></div>
    <div class="stat"><div class="stat-num">11</div><div class="stat-label">Categories</div></div>
    <div class="stat"><div class="stat-num">0</div><div class="stat-label">Dependencies</div></div>
    <div class="stat"><div class="stat-num">0</div><div class="stat-label">Build Steps</div></div>
  </div>
  <div class="cta-row">
    <a href="index.html" class="btn btn-primary">üöÄ Browse the Gallery</a>
    <a href="https://github.com/kody-w/localFirstTools-main" class="btn btn-secondary">‚≠ê GitHub</a>
  </div>
</div>

<!-- What is it -->
<section class="reveal">
  <div class="section-label">The Idea</div>
  <h2 class="section-title">What if software didn't need infrastructure?</h2>
  <p class="section-desc">RappterZoo is a platform of 621 self-contained HTML apps. Not just games ‚Äî real tools for real work. Each one is a single <code>.html</code> file. Download it and it works forever. No server. No account. No telemetry.</p>
  <div class="principles">
    <div class="principle">
      <div class="principle-icon">üì¶</div>
      <h3>One File = One App</h3>
      <p>Every app is a complete HTML document ‚Äî CSS, JavaScript, and logic all inline. Right-click ‚Üí Save As ‚Üí it works forever, anywhere.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">‚úàÔ∏è</div>
      <h3>Works Offline</h3>
      <p>Zero network requests. No CDNs, no API calls, no tracking pixels. Open the file on a plane, in a bunker, on a Raspberry Pi. It just works.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">üíæ</div>
      <h3>Your Data Stays Yours</h3>
      <p>All persistence uses localStorage. Nothing leaves your machine. Every app with user data includes JSON import/export built in.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">üîß</div>
      <h3>Zero Build Process</h3>
      <p>No webpack, no vite, no node_modules, no Docker. The entire platform is static HTML served by GitHub Pages. Fork it and you have your own.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">üîç</div>
      <h3>View Source</h3>
      <p>Every app is readable. No minification, no bundling, no abstraction layers. Right-click ‚Üí View Source and learn how it works.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">‚è≥</div>
      <h3>20-Year Software</h3>
      <p>No dependency will break, no service will shut down, no API will deprecate. These are HTML files. They'll outlive us all.</p>
    </div>
  </div>
</section>

<!-- Use-Case Tracks -->
<section class="reveal">
  <div class="section-label">Not Just Games</div>
  <h2 class="section-title">Three tracks, one platform</h2>
  <p class="section-desc">RappterZoo started as a game gallery. Now it's a local-first platform for any kind of tool ‚Äî from data dashboards to personal wikis to creative instruments.</p>
  <div class="tracks">
    <div class="track track-data">
      <div class="track-label">üìä Data &amp; Analytics</div>
      <h3>Your data, your browser</h3>
      <p>Import CSV/JSON datasets, build dashboards, test APIs, store files ‚Äî all running locally with zero cloud dependency.</p>
      <div class="track-apps">
        <a href="apps/data-tools/data-dashboard.html" class="track-app">Data Dashboard</a>
        <a href="apps/data-tools/data-vault.html" class="track-app">Data Vault</a>
        <a href="apps/data-tools/api-playground.html" class="track-app">API Playground</a>
      </div>
    </div>
    <div class="track track-productivity">
      <div class="track-label">‚úÖ Productivity</div>
      <h3>Tools that respect you</h3>
      <p>Build knowledge bases, automate workflows, manage files ‚Äî private by default, no login required, data exportable at any time.</p>
      <div class="track-apps">
        <a href="apps/productivity/personal-wiki.html" class="track-app">Personal Wiki</a>
        <a href="apps/productivity/automation-hub.html" class="track-app">Automation Hub</a>
      </div>
    </div>
    <div class="track track-creative">
      <div class="track-label">üéÆ Creative &amp; Games</div>
      <h3>The original collection</h3>
      <p>616 games, synths, physics sims, generative art, 3D worlds, and creative tools ‚Äî the foundation that started it all.</p>
      <div class="track-apps">
        <a href="apps/games-puzzles/depths-of-the-abyss.html" class="track-app">Depths of the Abyss</a>
        <a href="apps/3d-immersive/sky-realms-aether-wing.html" class="track-app">Sky Realms</a>
        <a href="apps/audio-music/fm-synthesizer.html" class="track-app">FM Synth</a>
        <span class="track-app">+613 more</span>
      </div>
    </div>
  </div>
</section>

<!-- New Flagship Apps -->
<section class="reveal">
  <div class="section-label">New</div>
  <h2 class="section-title">Flagship platform apps</h2>
  <p class="section-desc">Five new apps that prove "single HTML file" isn't a limitation ‚Äî it's a superpower. Each one is a real tool you can use today.</p>
  <div class="showcase-grid">
    <a href="apps/productivity/personal-wiki.html" class="showcase-card">
      <div class="showcase-title">üìù Personal Wiki</div>
      <div class="showcase-desc">Markdown editor with [[wiki-links]], full-text search, page management, and JSON export. Your knowledge base in one file.</div>
      <div class="showcase-meta"><span class="tag tag-green">Productivity</span><span>localStorage</span></div>
    </a>
    <a href="apps/data-tools/data-vault.html" class="showcase-card">
      <div class="showcase-title">üóÑÔ∏è Data Vault</div>
      <div class="showcase-desc">Drag-and-drop file manager. Upload any file, stored as base64 in localStorage. Preview images, text, JSON, CSV. Export your vault anytime.</div>
      <div class="showcase-meta"><span class="tag tag-blue">Data Tools</span><span>File Storage</span></div>
    </a>
    <a href="apps/data-tools/data-dashboard.html" class="showcase-card">
      <div class="showcase-title">üìä Data Dashboard</div>
      <div class="showcase-desc">Import CSV or JSON, auto-detect schema, render sortable tables and Canvas charts. Filter, query, and export. Mini Metabase in one file.</div>
      <div class="showcase-meta"><span class="tag tag-blue">Data Tools</span><span>Charts &amp; Tables</span></div>
    </a>
    <a href="apps/productivity/automation-hub.html" class="showcase-card">
      <div class="showcase-title">‚ö° Automation Hub</div>
      <div class="showcase-desc">Visual if-this-then-that rule builder. Triggers, conditions, actions ‚Äî all client-side. Build automations that run in your browser.</div>
      <div class="showcase-meta"><span class="tag tag-green">Productivity</span><span>Rules Engine</span></div>
    </a>
    <a href="apps/data-tools/api-playground.html" class="showcase-card">
      <div class="showcase-title">üîå API Playground</div>
      <div class="showcase-desc">Build and send HTTP requests, inspect responses, save collections. A mini Postman that lives in a single HTML file.</div>
      <div class="showcase-meta"><span class="tag tag-blue">Data Tools</span><span>REST Testing</span></div>
    </a>
    <a href="apps/games-puzzles/depths-of-the-abyss.html" class="showcase-card">
      <div class="showcase-title">üèÜ Depths of the Abyss</div>
      <div class="showcase-desc">Deep-sea roguelike with procedural generation, combat, and progression. Scored 100/100 by the ranking engine. One HTML file.</div>
      <div class="showcase-meta"><span class="tag">100/100</span><span>üéÆ Game</span></div>
    </a>
  </div>
</section>

<!-- All Categories -->
<section class="reveal">
  <div class="section-label">The Full Collection</div>
  <h2 class="section-title">11 categories</h2>
  <div class="categories">
    <a href="index.html" class="cat-card"><div class="cat-icon">üìä</div><div><div class="cat-name">Data &amp; Analytics <span class="cat-new">NEW</span></div><div class="cat-count">3 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">‚úÖ</div><div><div class="cat-name">Productivity <span class="cat-new">NEW</span></div><div class="cat-count">2 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üéÆ</div><div><div class="cat-name">Games &amp; Puzzles</div><div class="cat-count">170 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üîß</div><div><div class="cat-name">Creative Tools</div><div class="cat-count">110 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üé®</div><div><div class="cat-name">Generative Art</div><div class="cat-count">81 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üåê</div><div><div class="cat-name">3D &amp; Immersive</div><div class="cat-count">54 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üéµ</div><div><div class="cat-name">Audio &amp; Music</div><div class="cat-count">47 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üñºÔ∏è</div><div><div class="cat-name">Visual Art</div><div class="cat-count">47 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">‚öõÔ∏è</div><div><div class="cat-name">Particle &amp; Physics</div><div class="cat-count">44 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üìö</div><div><div class="cat-name">Educational</div><div class="cat-count">33 apps</div></div></a>
    <a href="index.html" class="cat-card"><div class="cat-icon">üß™</div><div><div class="cat-name">Experimental &amp; AI</div><div class="cat-count">30 apps</div></div></a>
  </div>
</section>

<!-- How it works -->
<section class="reveal">
  <div class="section-label">Architecture</div>
  <h2 class="section-title">How a single HTML file replaces a SaaS app</h2>
  <div class="code-block">
<span class="comment">&lt;!-- The entire stack: --&gt;</span>
<span class="keyword">&lt;!DOCTYPE html&gt;</span>
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;<span class="string">Data Dashboard</span>&lt;/title&gt;
  &lt;style&gt; <span class="comment">/* all UI ‚Äî no CSS framework needed */</span> &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;
    <span class="comment">// CSV parser? 50 lines of JS.</span>
    <span class="comment">// Chart renderer? Canvas 2D, ~100 lines.</span>
    <span class="comment">// Data persistence? localStorage.setItem()</span>
    <span class="comment">// Export? Blob + URL.createObjectURL()</span>
    <span class="comment">// File upload? FileReader + drag events</span>
    <span class="comment">// HTTP client? fetch()</span>
    <span class="comment">// Everything the browser gives you for free.</span>
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
  </div>
</section>

<!-- The Autonomous Engine -->
<section class="reveal">
  <div class="section-label">The Engine</div>
  <h2 class="section-title">Apps that evolve themselves</h2>
  <p class="section-desc">An AI pipeline continuously scores, ranks, and iteratively improves every app through a biological "molting" process. The best survive and breed.</p>
  <div class="autonomy-flow">
    <div class="flow-step"><span class="flow-label">Observe</span>Scan ecosystem</div>
    <div class="flow-step"><span class="flow-label">Score</span>6-dim analysis</div>
    <div class="flow-step"><span class="flow-label">Rank</span>Grade S‚ÜíF</div>
    <div class="flow-step"><span class="flow-label">Molt</span>Evolve weak apps</div>
    <div class="flow-step"><span class="flow-label">Breed</span>Gene crossover</div>
    <div class="flow-step"><span class="flow-label">Publish</span>Push to Pages</div>
  </div>
</section>

<!-- Why it matters -->
<section class="reveal">
  <div class="section-label">The Point</div>
  <h2 class="section-title">Software that belongs to you</h2>
  <div class="principles" style="margin-top:2rem">
    <div class="principle">
      <div class="principle-icon">üè†</div>
      <h3>No Vendor Lock-In</h3>
      <p>Every app is a standard HTML file. No accounts, no platform, no subscriptions. Download it and it's yours. Move it to any server, any device, any OS.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">üîê</div>
      <h3>Private by Default</h3>
      <p>Your wiki pages, your uploaded files, your dashboard data, your API collections ‚Äî all stored in your browser. Nothing transmitted. Nothing tracked.</p>
    </div>
    <div class="principle">
      <div class="principle-icon">üåç</div>
      <h3>Universal Access</h3>
      <p>Works on any device with a browser. No app store, no install, no account, no minimum system requirements. A link is all you need.</p>
    </div>
  </div>
</section>

<!-- Final CTA -->
<div class="final-cta">
  <h2>621 apps. One link. Zero installs.</h2>
  <p>Browse the gallery, use the tools, fork the repo, or contribute your own single-file app.</p>
  <div class="cta-row">
    <a href="index.html" class="btn btn-primary">üöÄ Open the Gallery</a>
    <a href="https://github.com/kody-w/localFirstTools-main" class="btn btn-secondary">‚≠ê Star on GitHub</a>
  </div>
</div>

<footer>
  <p>RappterZoo is open source. Built with HTML, CSS, JavaScript, and stubbornness.<br>
  <a href="https://github.com/kody-w/localFirstTools-main">github.com/kody-w/localFirstTools-main</a></p>
</footer>

<script>
(function() {
  'use strict';

  // --- State ---
  var visitCount = 0;
  var animatedStats = false;
  var searchActive = false;
  var currentFilter = 'all';
  var scrollY = 0;
  var darkMode = true;
  var sectionTimers = {};

  // --- Initialization ---
  function init() {
    loadVisitData();
    setupRevealObserver();
    setupStatAnimations();
    setupCategoryFilter();
    setupKeyboardShortcuts();
    setupSmoothScroll();
    setupParallaxHero();
    setupTooltips();
    updateVisitBadge();
    trackSectionEngagement();
    console.log('[ShowHN] Initialized, visit #' + visitCount);
  }

  // --- Visit Tracking (localStorage) ---
  function loadVisitData() {
    try {
      var stored = localStorage.getItem('showhn_visits');
      if (stored) {
        var data = JSON.parse(stored);
        visitCount = (data.count || 0) + 1;
      } else {
        visitCount = 1;
      }
      saveVisitData();
    } catch (e) {
      visitCount = 1;
    }
  }

  function saveVisitData() {
    try {
      var data = {
        count: visitCount,
        lastVisit: new Date().toISOString(),
        firstVisit: getFirstVisitDate()
      };
      localStorage.setItem('showhn_visits', JSON.stringify(data));
    } catch (e) { /* storage full or disabled */ }
  }

  function getFirstVisitDate() {
    try {
      var stored = localStorage.getItem('showhn_visits');
      if (stored) {
        var data = JSON.parse(stored);
        if (data.firstVisit) return data.firstVisit;
      }
    } catch (e) { /* ignore */ }
    return new Date().toISOString();
  }

  function updateVisitBadge() {
    if (visitCount <= 1) return;
    var badge = document.querySelector('.hero-badge');
    if (badge) {
      var span = document.createElement('span');
      span.textContent = ' ¬∑ Visit #' + visitCount;
      span.style.opacity = '0.7';
      badge.appendChild(span);
    }
  }

  // --- Scroll Reveal Observer ---
  function setupRevealObserver() {
    var options = { threshold: 0.1 };
    var observer = new IntersectionObserver(function(entries) {
      for (var i = 0; i < entries.length; i++) {
        var entry = entries[i];
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          staggerChildren(entry.target);
          observer.unobserve(entry.target);
        }
      }
    }, options);
    var sections = document.querySelectorAll('.reveal');
    for (var i = 0; i < sections.length; i++) {
      observer.observe(sections[i]);
    }
  }

  function staggerChildren(section) {
    var cards = section.querySelectorAll('.principle, .track, .cat-card, .showcase-card, .flow-step');
    for (var i = 0; i < cards.length; i++) {
      (function(el, delay) {
        el.style.opacity = '0';
        el.style.transform = 'translateY(12px)';
        el.style.transition = 'opacity 0.4s ease ' + delay + 'ms, transform 0.4s ease ' + delay + 'ms';
        setTimeout(function() {
          el.style.opacity = '1';
          el.style.transform = 'translateY(0)';
        }, 50);
      })(cards[i], i * 80);
    }
  }

  // --- Stat Counter Animations ---
  function setupStatAnimations() {
    var heroObserver = new IntersectionObserver(function(entries) {
      for (var i = 0; i < entries.length; i++) {
        if (entries[i].isIntersecting && !animatedStats) {
          animatedStats = true;
          animateAllStats();
          heroObserver.unobserve(entries[i].target);
        }
      }
    }, { threshold: 0.3 });

    var statsContainer = document.querySelector('.hero-stats');
    if (statsContainer) {
      heroObserver.observe(statsContainer);
    }
  }

  function animateAllStats() {
    var statNums = document.querySelectorAll('.stat-num');
    for (var i = 0; i < statNums.length; i++) {
      var target = parseInt(statNums[i].textContent, 10);
      if (!isNaN(target) && target > 0) {
        animateCounter(statNums[i], target);
      }
    }
  }

  function animateCounter(element, target) {
    var duration = 1200;
    var startTime = null;
    var startVal = 0;

    function easeOutCubic(t) {
      return 1 - Math.pow(1 - t, 3);
    }

    function step(timestamp) {
      if (!startTime) startTime = timestamp;
      var elapsed = timestamp - startTime;
      var progress = Math.min(elapsed / duration, 1);
      var easedProgress = easeOutCubic(progress);
      var current = Math.round(startVal + (target - startVal) * easedProgress);
      element.textContent = current;
      if (progress < 1) {
        requestAnimationFrame(step);
      } else {
        element.textContent = target;
      }
    }

    element.textContent = '0';
    requestAnimationFrame(step);
  }

  // --- Category Filter ---
  function setupCategoryFilter() {
    var catCards = document.querySelectorAll('.cat-card');
    for (var i = 0; i < catCards.length; i++) {
      catCards[i].addEventListener('mouseenter', handleCategoryHover);
      catCards[i].addEventListener('mouseleave', handleCategoryLeave);
    }
  }

  function handleCategoryHover(e) {
    var card = e.currentTarget;
    var countEl = card.querySelector('.cat-count');
    if (countEl && !countEl.dataset.original) {
      countEl.dataset.original = countEl.textContent;
      var text = countEl.textContent;
      var num = parseInt(text, 10);
      if (!isNaN(num)) {
        countEl.textContent = num + ' apps ‚Üí Click to browse';
      }
    }
  }

  function handleCategoryLeave(e) {
    var card = e.currentTarget;
    var countEl = card.querySelector('.cat-count');
    if (countEl && countEl.dataset.original) {
      countEl.textContent = countEl.dataset.original;
      delete countEl.dataset.original;
    }
  }

  // --- Keyboard Shortcuts ---
  function setupKeyboardShortcuts() {
    document.addEventListener('keydown', function(e) {
      if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;

      if (e.key === '/' || e.key === 's') {
        e.preventDefault();
        scrollToSection('.categories');
      } else if (e.key === 'g') {
        scrollToTop();
      } else if (e.key === 'n') {
        scrollToSection('.showcase-grid');
      } else if (e.key === '?') {
        toggleShortcutHelp();
      }
    });
  }

  function scrollToSection(selector) {
    var el = document.querySelector(selector);
    if (el) {
      var section = el.closest('section') || el;
      section.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function toggleShortcutHelp() {
    var existing = document.getElementById('shortcut-help');
    if (existing) {
      existing.remove();
      return;
    }
    var overlay = document.createElement('div');
    overlay.id = 'shortcut-help';
    overlay.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:9999;';
    var box = document.createElement('div');
    box.style.cssText = 'background:#12121a;border:1px solid #1e1e2e;border-radius:12px;padding:2rem;max-width:360px;color:#e0e0e0;';
    var shortcuts = [
      ['/', 'Jump to categories'],
      ['n', 'Jump to new apps'],
      ['g', 'Go to top'],
      ['?', 'Toggle this help']
    ];
    var html = '<h3 style="margin-bottom:1rem;color:#ff6b35;">Keyboard Shortcuts</h3>';
    for (var i = 0; i < shortcuts.length; i++) {
      html += '<div style="display:flex;justify-content:space-between;padding:.4rem 0;border-bottom:1px solid #1e1e2e;">';
      html += '<kbd style="background:rgba(255,107,53,0.1);padding:.1rem .5rem;border-radius:4px;color:#ff6b35;">' + shortcuts[i][0] + '</kbd>';
      html += '<span style="color:#888;">' + shortcuts[i][1] + '</span></div>';
    }
    html += '<p style="margin-top:1rem;font-size:.8rem;color:#555;">Press ? or click to close</p>';
    box.innerHTML = html;
    overlay.appendChild(box);
    overlay.addEventListener('click', function() { overlay.remove(); });
    document.body.appendChild(overlay);
  }

  // --- Smooth Scroll for Internal Links ---
  function setupSmoothScroll() {
    var links = document.querySelectorAll('a[href^="#"]');
    for (var i = 0; i < links.length; i++) {
      links[i].addEventListener('click', function(e) {
        var targetId = this.getAttribute('href').slice(1);
        if (targetId) {
          var target = document.getElementById(targetId);
          if (target) {
            e.preventDefault();
            target.scrollIntoView({ behavior: 'smooth' });
          }
        }
      });
    }
  }

  // --- Parallax Hero Effect ---
  function setupParallaxHero() {
    var hero = document.querySelector('.hero');
    if (!hero) return;

    window.addEventListener('scroll', function() {
      scrollY = window.pageYOffset;
      if (scrollY < window.innerHeight) {
        var opacity = Math.max(0, 1 - scrollY / (window.innerHeight * 0.8));
        var translate = scrollY * 0.3;
        hero.style.opacity = opacity;
        hero.style.transform = 'translateY(' + translate + 'px)';
      }
    }, { passive: true });
  }

  // --- Tooltip on Showcase Cards ---
  function setupTooltips() {
    var showcaseCards = document.querySelectorAll('.showcase-card');
    for (var i = 0; i < showcaseCards.length; i++) {
      showcaseCards[i].addEventListener('mouseenter', function() {
        var meta = this.querySelector('.showcase-meta');
        if (meta) {
          meta.style.transition = 'color 0.2s ease';
          meta.style.color = '#e0e0e0';
        }
      });
      showcaseCards[i].addEventListener('mouseleave', function() {
        var meta = this.querySelector('.showcase-meta');
        if (meta) {
          meta.style.color = '';
        }
      });
    }
  }

  // --- Section Engagement Tracking ---
  function trackSectionEngagement() {
    var sections = document.querySelectorAll('section');
    var engagementObserver = new IntersectionObserver(function(entries) {
      for (var i = 0; i < entries.length; i++) {
        var entry = entries[i];
        var id = entry.target.querySelector('.section-label');
        var label = id ? id.textContent : 'unknown';
        if (entry.isIntersecting) {
          sectionTimers[label] = Date.now();
        } else if (sectionTimers[label]) {
          var timeSpent = Date.now() - sectionTimers[label];
          logEngagement(label, timeSpent);
          delete sectionTimers[label];
        }
      }
    }, { threshold: 0.3 });

    for (var i = 0; i < sections.length; i++) {
      engagementObserver.observe(sections[i]);
    }
  }

  function logEngagement(section, ms) {
    if (ms < 500) return;
    try {
      var stored = localStorage.getItem('showhn_engagement');
      var data = stored ? JSON.parse(stored) : {};
      if (!data[section]) data[section] = 0;
      data[section] += ms;
      localStorage.setItem('showhn_engagement', JSON.stringify(data));
    } catch (e) { /* ignore */ }
  }

  // --- Boot ---
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
</body>
</html>
